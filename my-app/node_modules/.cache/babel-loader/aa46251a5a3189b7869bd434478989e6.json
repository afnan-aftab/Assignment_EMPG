{"ast":null,"code":"import _toConsumableArray from\"X:/Barood/Assignment_EMPG/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"X:/Barood/Assignment_EMPG/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import axios from'axios';export default function GetData(size,pageNumber){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pas=_useState6[0],setPas=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hasMore=_useState8[0],setHasMore=_useState8[1];useEffect(function(){setLoading(true);setError(false);axios({method:'GET',url:'https://api.instantwebtools.net/v1/passenger?page='+String(pageNumber)+'&size='+String(size)}).then(function(res){setPas(function(prevPas){return _toConsumableArray(new Set([].concat(_toConsumableArray(prevPas),_toConsumableArray(res.data.data.map(function(x){return{\"_id\":x._id,\"name\":x.name,\"id\":x.airline.id,\"airName\":x.airline.name,\"country\":x.airline.country,\"logo\":x.airline.logo};})))));});setHasMore(res.data.data.length>0);setLoading(false);}).catch(function(e){setError(true);console.log(e);});},[size,pageNumber]);console.log(pas);return{loading:loading,error:error,pas:pas,hasMore:hasMore};}","map":{"version":3,"sources":["X:/Barood/Assignment_EMPG/my-app/src/GetData.js"],"names":["useEffect","useState","axios","GetData","size","pageNumber","loading","setLoading","error","setError","pas","setPas","hasMore","setHasMore","method","url","String","then","res","prevPas","Set","data","map","x","_id","name","airline","id","country","logo","length","catch","e","console","log"],"mappings":"sTAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,cAAe,SAASC,CAAAA,OAAT,CAAiBC,IAAjB,CAAuBC,UAAvB,CAAmC,CAE9C,cAA8BJ,QAAQ,CAAC,IAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAA0BN,QAAQ,CAAC,KAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAAsBR,QAAQ,CAAC,EAAD,CAA9B,yCAAOS,GAAP,eAAYC,MAAZ,eACA,eAA8BV,QAAQ,CAAC,KAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eAEAb,SAAS,CAAC,UAAM,CACZO,UAAU,CAAC,IAAD,CAAV,CACAE,QAAQ,CAAC,KAAD,CAAR,CACAP,KAAK,CAAC,CACFY,MAAM,CAAE,KADN,CAEFC,GAAG,CAAE,qDAAqDC,MAAM,CAACX,UAAD,CAA3D,CAAwE,QAAxE,CAAiFW,MAAM,CAACZ,IAAD,CAF1F,CAAD,CAAL,CAGGa,IAHH,CAGQ,SAAAC,GAAG,CAAI,CACXP,MAAM,CAAC,SAAAQ,OAAO,CAAI,CACd,0BAAW,GAAIC,CAAAA,GAAJ,8BAAYD,OAAZ,qBAAuBD,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcC,GAAd,CAAkB,SAAAC,CAAC,CAAI,CAAC,MAAO,CAAC,MAAMA,CAAC,CAACC,GAAT,CAAc,OAAOD,CAAC,CAACE,IAAvB,CAA6B,KAAKF,CAAC,CAACG,OAAF,CAAUC,EAA5C,CAAgD,UAAUJ,CAAC,CAACG,OAAF,CAAUD,IAApE,CAA0E,UAAUF,CAAC,CAACG,OAAF,CAAUE,OAA9F,CAAuG,OAAOL,CAAC,CAACG,OAAF,CAAUG,IAAxH,CAAP,CAAqI,CAA7J,CAAvB,GAAX,EACH,CAFK,CAAN,CAGAhB,UAAU,CAACK,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcS,MAAd,CAAuB,CAAxB,CAAV,CACAvB,UAAU,CAAC,KAAD,CAAV,CACH,CATD,EASGwB,KATH,CASS,SAAAC,CAAC,CAAI,CACVvB,QAAQ,CAAC,IAAD,CAAR,CACAwB,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACH,CAZD,EAaH,CAhBQ,CAgBN,CAAC5B,IAAD,CAAOC,UAAP,CAhBM,CAAT,CAiBA4B,OAAO,CAACC,GAAR,CAAYxB,GAAZ,EACA,MAAO,CAACJ,OAAO,CAAPA,OAAD,CAAUE,KAAK,CAALA,KAAV,CAAiBE,GAAG,CAAHA,GAAjB,CAAsBE,OAAO,CAAPA,OAAtB,CAAP,CACH","sourcesContent":["import {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function GetData(size, pageNumber) {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n    const [pas, setPas] = useState([])\r\n    const [hasMore, setHasMore] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        setError(false)\r\n        axios({\r\n            method: 'GET',\r\n            url: 'https://api.instantwebtools.net/v1/passenger?page='+String(pageNumber)+'&size='+String(size)\r\n        }).then(res => {\r\n            setPas(prevPas => {\r\n                return [...new Set([...prevPas,...res.data.data.map(x => {return {\"_id\":x._id, \"name\":x.name, \"id\":x.airline.id, \"airName\":x.airline.name, \"country\":x.airline.country, \"logo\":x.airline.logo}} )])]\r\n            })\r\n            setHasMore(res.data.data.length > 0)\r\n            setLoading(false)\r\n        }).catch(e => {\r\n            setError(true)\r\n            console.log(e)\r\n        })\r\n    }, [size, pageNumber])\r\n    console.log(pas)\r\n    return {loading, error, pas, hasMore}\r\n}"]},"metadata":{},"sourceType":"module"}