{"ast":null,"code":"import _slicedToArray from\"X:/Barood/Assignment_EMPG/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useCallback}from'react';import GetData from'./GetData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function App(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),pageNumber=_useState2[0],setPageNumber=_useState2[1];var _useState3=useState(7),_useState4=_slicedToArray(_useState3,2),size=_useState4[0],setSize=_useState4[1];var b=0;var arr=[];var _GetData=GetData(size,pageNumber),pas=_GetData.pas,hasMore=_GetData.hasMore,error=_GetData.error,loading=_GetData.loading;var observer=useRef();var lastElementRef=useCallback(function(node){if(loading)return;if(observer.current)observer.current.disconnect();observer.current=new IntersectionObserver(function(entries){if(entries[0].isIntersecting&&hasMore){setPageNumber(function(prevPageNumber){return prevPageNumber+1;});setSize(7);}});if(node)observer.current.observe(node);},[loading,hasMore]);return/*#__PURE__*/_jsxs(_Fragment,{children:[pas.map(function(pass,index){if((index+1)%7===0){var url='https://api.instantwebtools.net/v1/passenger/'+String(pass._id);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{ref:lastElementRef,class:\"col-sm-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"h-300 card text-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"img\",{class:\"bIm rounded img-fluid\",src:pass.logo,alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h4\",{children:pass.country}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-secondary\",children:[\"id: \",pass.id]}),/*#__PURE__*/_jsx(\"h5\",{children:pass.name})]})]}),/*#__PURE__*/_jsx(\"a\",{href:url,target:\"_blank\",rel:\"noreferrer\",class:\"stretched-link\",children:\" \"})]})})}),/*#__PURE__*/_jsx(\"br\",{})]});}else{if(b===0){arr[0]=pass;b++;}else{arr[1]=pass;b=0;var url0='https://api.instantwebtools.net/v1/passenger/'+String(arr[0]._id);var url1='https://api.instantwebtools.net/v1/passenger/'+String(arr[1]._id);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card text-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"sIm rounded img-fluid\",src:arr[0].logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h4\",{children:arr[0].country}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-secondary\",children:[\"id: \",arr[0].id]}),/*#__PURE__*/_jsx(\"h5\",{children:arr[0].name}),/*#__PURE__*/_jsx(\"a\",{href:url0,target:\"_blank\",rel:\"noreferrer\",class:\"stretched-link\",children:\" \"})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card text-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"sIm rounded img-fluid\",src:arr[1].logo,alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h4\",{children:arr[1].country}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-secondary\",children:[\"id: \",arr[1].id]}),/*#__PURE__*/_jsx(\"h5\",{children:arr[1].name}),/*#__PURE__*/_jsx(\"a\",{href:url1,target:\"_blank\",rel:\"noreferrer\",class:\"stretched-link\",children:\" \"})]})})})]}),/*#__PURE__*/_jsx(\"br\",{})]});}return null;}}),/*#__PURE__*/_jsx(\"div\",{children:loading&&'Loading...'}),/*#__PURE__*/_jsx(\"div\",{children:error&&'Error'})]});}","map":{"version":3,"sources":["X:/Barood/Assignment_EMPG/my-app/src/App.js"],"names":["React","useState","useRef","useCallback","GetData","App","pageNumber","setPageNumber","size","setSize","b","arr","pas","hasMore","error","loading","observer","lastElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","map","pass","index","url","String","_id","logo","country","id","name","url0","url1"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,WAAlC,KAAqD,OAArD,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,6IAEA,cAAe,SAASC,CAAAA,GAAT,EAAe,CAC5B,cAAoCJ,QAAQ,CAAC,CAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eACA,eAAwBN,QAAQ,CAAC,CAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eACA,GAAIC,CAAAA,CAAC,CAAG,CAAR,CACA,GAAIC,CAAAA,GAAG,CAAG,EAAV,CAEA,aAKIP,OAAO,CAACI,IAAD,CAAOF,UAAP,CALX,CACEM,GADF,UACEA,GADF,CAEEC,OAFF,UAEEA,OAFF,CAGEC,KAHF,UAGEA,KAHF,CAIEC,OAJF,UAIEA,OAJF,CAOA,GAAMC,CAAAA,QAAQ,CAAGd,MAAM,EAAvB,CACA,GAAMe,CAAAA,cAAc,CAAGd,WAAW,CAAC,SAAAe,IAAI,CAAI,CACzC,GAAGH,OAAH,CAAY,OACZ,GAAGC,QAAQ,CAACG,OAAZ,CAAqBH,QAAQ,CAACG,OAAT,CAAiBC,UAAjB,GACrBJ,QAAQ,CAACG,OAAT,CAAmB,GAAIE,CAAAA,oBAAJ,CAAyB,SAAAC,OAAO,CAAI,CACrD,GAAGA,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAX,EAA6BV,OAAhC,CAAwC,CACtCN,aAAa,CAAC,SAAAiB,cAAc,QAAIA,CAAAA,cAAc,CAAG,CAArB,EAAf,CAAb,CACAf,OAAO,CAAC,CAAD,CAAP,CACD,CACF,CALkB,CAAnB,CAMA,GAAGS,IAAH,CAASF,QAAQ,CAACG,OAAT,CAAiBM,OAAjB,CAAyBP,IAAzB,EACV,CAViC,CAU/B,CAACH,OAAD,CAAUF,OAAV,CAV+B,CAAlC,CAeA,mBACE,2BACGD,GAAG,CAACc,GAAJ,CAAQ,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxB,GAAI,CAACA,KAAK,CAAC,CAAP,EAAU,CAAV,GAAc,CAAlB,CAAoB,CAClB,GAAIC,CAAAA,GAAG,CAAG,gDAAgDC,MAAM,CAACH,IAAI,CAACI,GAAN,CAAhE,CACA,mBACE,wCACE,YAAK,GAAG,CAAEd,cAAV,CAA0B,KAAK,CAAC,WAAhC,uBACE,YAAK,KAAK,CAAC,wBAAX,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,aAAK,KAAK,CAAC,KAAX,wBAEE,YAAK,KAAK,CAAC,UAAX,uBACE,YAAK,KAAK,CAAC,uBAAX,CAAmC,GAAG,CAAEU,IAAI,CAACK,IAA7C,CAAmD,GAAG,CAAC,MAAvD,EADF,EAFF,cAME,aAAK,KAAK,CAAC,UAAX,wBACE,oBAAKL,IAAI,CAACM,OAAV,EADF,cAEE,aAFF,cAGE,WAAG,KAAK,CAAC,gBAAT,kBAA+BN,IAAI,CAACO,EAApC,GAHF,cAIE,oBAAKP,IAAI,CAACQ,IAAV,EAJF,GANF,GADF,cAcE,UAAG,IAAI,CAAEN,GAAT,CAAc,MAAM,CAAC,QAArB,CAA8B,GAAG,CAAC,YAAlC,CAA+C,KAAK,CAAC,gBAArD,eAdF,GADF,EADF,EADF,cAqBE,aArBF,GADF,CAyBD,CA3BD,IA2BO,CACL,GAAGnB,CAAC,GAAK,CAAT,CACA,CACEC,GAAG,CAAC,CAAD,CAAH,CAASgB,IAAT,CACAjB,CAAC,GACF,CAJD,IAIO,CACLC,GAAG,CAAC,CAAD,CAAH,CAASgB,IAAT,CACAjB,CAAC,CAAG,CAAJ,CACA,GAAI0B,CAAAA,IAAI,CAAG,gDAAgDN,MAAM,CAACnB,GAAG,CAAC,CAAD,CAAH,CAAOoB,GAAR,CAAjE,CACA,GAAIM,CAAAA,IAAI,CAAG,gDAAgDP,MAAM,CAACnB,GAAG,CAAC,CAAD,CAAH,CAAOoB,GAAR,CAAjE,CAEA,mBACE,wCACE,aAAK,KAAK,CAAC,KAAX,wBAEE,YAAK,KAAK,CAAC,UAAX,uBACE,YAAK,KAAK,CAAC,kBAAX,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,YAAK,KAAK,CAAC,uBAAX,CAAmC,GAAG,CAAEpB,GAAG,CAAC,CAAD,CAAH,CAAOqB,IAA/C,CAAqD,GAAG,CAAC,MAAzD,EADF,cAGE,oBAAKrB,GAAG,CAAC,CAAD,CAAH,CAAOsB,OAAZ,EAHF,cAIE,aAJF,cAKE,WAAG,KAAK,CAAC,gBAAT,kBAA+BtB,GAAG,CAAC,CAAD,CAAH,CAAOuB,EAAtC,GALF,cAME,oBAAKvB,GAAG,CAAC,CAAD,CAAH,CAAOwB,IAAZ,EANF,cAOE,UAAG,IAAI,CAAEC,IAAT,CAAe,MAAM,CAAC,QAAtB,CAA+B,GAAG,CAAC,YAAnC,CAAgD,KAAK,CAAC,gBAAtD,eAPF,GADF,EADF,EAFF,cAiBE,YAAK,KAAK,CAAC,UAAX,uBACE,YAAK,KAAK,CAAC,kBAAX,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,YAAK,KAAK,CAAC,uBAAX,CAAmC,GAAG,CAAEzB,GAAG,CAAC,CAAD,CAAH,CAAOqB,IAA/C,CAAqD,GAAG,CAAC,MAAzD,EADF,cAGE,oBAAKrB,GAAG,CAAC,CAAD,CAAH,CAAOsB,OAAZ,EAHF,cAIE,aAJF,cAKE,WAAG,KAAK,CAAC,gBAAT,kBAA+BtB,GAAG,CAAC,CAAD,CAAH,CAAOuB,EAAtC,GALF,cAME,oBAAKvB,GAAG,CAAC,CAAD,CAAH,CAAOwB,IAAZ,EANF,cAOE,UAAG,IAAI,CAAEE,IAAT,CAAe,MAAM,CAAC,QAAtB,CAA+B,GAAG,CAAC,YAAnC,CAAgD,KAAK,CAAC,gBAAtD,eAPF,GADF,EADF,EAjBF,GADF,cAiCE,aAjCF,GADF,CAsCD,CACD,MAAO,KAAP,CACD,CACF,CAhFA,CADH,cAkFE,qBAAMtB,OAAO,EAAI,YAAjB,EAlFF,cAmFE,qBAAMD,KAAK,EAAI,OAAf,EAnFF,GADF,CAuFD","sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\nimport GetData from './GetData'\n\nexport default function App() {\n  const [pageNumber, setPageNumber] = useState(1)\n  const [size, setSize] = useState(7)\n  let b = 0\n  let arr = []\n\n  const {\n    pas,\n    hasMore,\n    error,\n    loading\n  } = GetData(size, pageNumber)\n\n  const observer = useRef()\n  const lastElementRef = useCallback(node => {\n    if(loading) return\n    if(observer.current) observer.current.disconnect()\n    observer.current = new IntersectionObserver(entries => {\n      if(entries[0].isIntersecting && hasMore){\n        setPageNumber(prevPageNumber => prevPageNumber + 1)\n        setSize(7)\n      }\n    })\n    if(node) observer.current.observe(node)\n  }, [loading, hasMore])\n\n  \n\n\n  return (\n    <>\n      {pas.map((pass, index) => {\n        if ((index+1)%7===0){\n          let url = 'https://api.instantwebtools.net/v1/passenger/'+String(pass._id)\n          return (\n            <>\n              <div ref={lastElementRef} class=\"col-sm-12\">\n                <div class=\"h-300 card text-center\">\n                  <div class=\"card-body\">\n                    <div class=\"row\">\n\n                      <div class=\"col-sm-6\">\n                        <img class=\"bIm rounded img-fluid\" src={pass.logo} alt=\"Logo\"></img>\n                  \n                      </div>\n                      <div class=\"col-sm-6\">\n                        <h4>{pass.country}</h4>\n                        <br></br>\n                        <p class=\"text-secondary\">id: {pass.id}</p>\n                        <h5>{pass.name}</h5>\n                      </div>\n                    </div>\n                    <a href={url} target=\"_blank\" rel=\"noreferrer\" class=\"stretched-link\"> </a>\n                  </div>\n                </div>\n              </div>\n              <br></br>\n            </>\n          )\n        } else {\n          if(b === 0)\n          {\n            arr[0] = pass\n            b++\n          } else {\n            arr[1] = pass\n            b = 0\n            let url0 = 'https://api.instantwebtools.net/v1/passenger/'+String(arr[0]._id)\n            let url1 = 'https://api.instantwebtools.net/v1/passenger/'+String(arr[1]._id)\n\n            return (\n              <>\n                <div class=\"row\">\n\n                  <div class=\"col-sm-6\">\n                    <div class=\"card text-center\">\n                      <div class=\"card-body\">\n                        <img class=\"sIm rounded img-fluid\" src={arr[0].logo} alt=\"Logo\"></img>\n                        \n                        <h4>{arr[0].country}</h4>\n                        <br></br>\n                        <p class=\"text-secondary\">id: {arr[0].id}</p>\n                        <h5>{arr[0].name}</h5>\n                        <a href={url0} target=\"_blank\" rel=\"noreferrer\" class=\"stretched-link\"> </a>\n    \n    \n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-6\">\n                    <div class=\"card text-center\">\n                      <div class=\"card-body\">\n                        <img class=\"sIm rounded img-fluid\" src={arr[1].logo} alt=\"Logo\"></img>\n                        \n                        <h4>{arr[1].country}</h4>\n                        <br></br>\n                        <p class=\"text-secondary\">id: {arr[1].id}</p>\n                        <h5>{arr[1].name}</h5>\n                        <a href={url1} target=\"_blank\" rel=\"noreferrer\" class=\"stretched-link\"> </a>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n                <br></br>\n              </>\n            )\n\n          }\n          return null\n        }\n      })} \n      <div>{loading && 'Loading...'}</div>\n      <div>{error && 'Error'}</div>\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}